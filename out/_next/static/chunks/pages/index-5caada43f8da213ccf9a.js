(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4402:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return S}});var i=t(5893),r=t(7329),c=t(4699),o=t(7294),s=t(9249),a=t(682),l=t(4051),u=t(1555),d=t(6968),f=t(9008),h="/uk-public-holidays",j=function(){return(0,i.jsxs)(f.default,{children:[(0,i.jsx)("title",{children:"UK Public Holidays"}),(0,i.jsx)("link",{rel:"icon",href:"".concat(h,"/favicon.ico")}),(0,i.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:"".concat(h,"/apple-touch-icon.png")}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat(h,"/favicon-32x32.png")}),(0,i.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat(h,"/favicon-16x16.png")}),(0,i.jsx)("link",{rel:"manifest",href:"".concat(h,"/site.webmanifest")}),(0,i.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),(0,i.jsx)("meta",{name:"theme-color",content:"#ffffff"})]},"app-meta")},p=t(2465),v=t(9163),x=t(1223),m=t(3754),y=t(7977);function b(){var n=(0,p.Z)(["\n  span {\n    &:nth-child(1) {\n      float: left;\n    }\n    &:nth-child(2) {\n      float: right;\n    }\n  }\n"]);return b=function(){return n},n}var Z=(0,v.ZP)(x.Z.Item)(b()),g=function(n){var e=n.holidays,t=n.showCount;return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsxs)(m.Z,{variant:"success",children:["Holidays ",(0,i.jsx)(y.Z,{variant:"dark",children:e.length}),(0,i.jsx)("span",{className:"sr-only",children:"Holiday count"})]}),(0,i.jsx)(x.Z,{className:"mt-2",children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,i.jsxs)(Z,{children:[(0,i.jsx)("span",{children:n.title}),(0,i.jsxs)("span",{children:["(",n.date,")"]})]},"hol-".concat(e))}))})]})},O=t(6156),w=t(2318),k=t(2151),P=function(n){return{label:n.split("-").map((function(n){return"and"===n?n:function(n){return n?"".concat(n.substring(0,1).toUpperCase()).concat(n.substring(1)):n}(n)})).join(" "),value:n}},N=function(n,e){return null===n||void 0===n?void 0:n.filter((function(n){return n.date.includes(e)}))};function C(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function _(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?C(Object(t),!0).forEach((function(e){(0,O.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var E=function(n){var e=n.setSelected,t=n.selected,r=n.holidays,c=n.locations,s=n.setLocations,a=n.years,d=o.useCallback((function(n){var i=n.target.value;t||s(c.filter((function(n){return"-1"!=n.value}))),e(null!==t&&void 0!==t&&t.year?_(_({},t),{},{events:N(r[i].events,null===t||void 0===t?void 0:t.year)}):r[i])}),[t,r]),f=o.useCallback((function(n){var i,c=n.target.value;e(_(_({},t),{},{year:c,events:N(null===(i=r[t.division])||void 0===i?void 0:i.events,c)}))}),[t,r]);return(0,i.jsxs)(l.Z,{className:"justify-content-md-center text-center mt-3 mb-3",children:[(0,i.jsx)(u.Z,{md:6,lg:4,className:"mb-1",children:(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(w.Z.Prepend,{children:(0,i.jsx)(w.Z.Text,{id:"inputGroup-location",children:"Location"})}),(0,i.jsx)(k.Z.Control,{"aria-label":"Location","aria-describedby":"inputGroup-location",as:"select",custom:!0,onChange:d,children:null===c||void 0===c?void 0:c.map((function(n){var e=n.label,t=n.value;return(0,i.jsx)("option",{value:t,children:e},"location-".concat(t))}))})]})}),(0,i.jsx)(u.Z,{md:6,lg:4,children:(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(w.Z.Prepend,{children:(0,i.jsx)(w.Z.Text,{id:"inputGroup-year",children:"Year"})}),(0,i.jsx)(k.Z.Control,{"aria-label":"Year","aria-describedby":"inputGroup-year",as:"select",custom:!0,disabled:!a,onChange:f,children:null===a||void 0===a?void 0:a.map((function(n){return(0,i.jsx)("option",{value:n,children:n},"year-".concat(n))}))})]})})]})},S=function(){var n=o.useState(null),e=(0,c.Z)(n,2),t=e[0],f=e[1],h=o.useState(null),p=(0,c.Z)(h,2),v=p[0],x=p[1],m=o.useState(null),y=(0,c.Z)(m,2),b=y[0],Z=y[1],O=o.useState(null),w=(0,c.Z)(O,2),k=w[0],N=w[1];return o.useEffect((function(){fetch("https://www.gov.uk/bank-holidays.json").then((function(n){return n.json()})).then((function(n){f(addDatePast(n));var e=Object.keys(n);x([{label:"Select a location",value:"-1"}].concat((0,r.Z)(e.map(P))))})).catch((function(){s.Am.error("Error fetching holidays.")}))}),[]),o.useEffect((function(){if(b){var n,e,i=(null===(n=t[b.division])||void 0===n||null===(e=n.events)||void 0===e?void 0:e.map((function(n){return n.date.substring(0,4)}))).reduce((function(n,e){return null!==n&&void 0!==n&&n.includes(e)?n:[].concat((0,r.Z)(n),[e])}),[]);N(k?i:["Select a year"].concat((0,r.Z)(i)))}}),[null===b||void 0===b?void 0:b.division]),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(j,{}),(0,i.jsxs)(a.Z,{fluid:!0,className:"mt-3",children:[(0,i.jsx)(l.Z,{className:"justify-content-md-center text-center",children:(0,i.jsx)(u.Z,{children:(0,i.jsx)("h3",{children:"UK Public Holidays \ud83c\udf34"})})}),t&&v?(0,i.jsx)(E,{setSelected:Z,setLocations:x,selected:b,holidays:t,locations:v,years:k}):(0,i.jsx)(l.Z,{className:"justify-content-md-center text-center",children:(0,i.jsx)(u.Z,{children:(0,i.jsx)(d.Z,{animation:"border",role:"status",children:(0,i.jsx)("span",{className:"sr-only",children:"Loading..."})})})}),(0,i.jsx)(l.Z,{className:"justify-content-md-center mb-3",children:(0,i.jsx)(u.Z,{md:12,lg:6,children:(0,i.jsx)(g,{holidays:null===b||void 0===b?void 0:b.events,showCount:!!b&&!!b.year})})})]})]})}},8581:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4402)}])}},function(n){n.O(0,[774,914,442],(function(){return e=8581,n(n.s=e);var e}));var e=n.O();_N_E=e}]);